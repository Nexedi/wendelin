<?xml version="1.0"?>
<ZopeData>
  <record id="1" aka="AAAAAAAAAAE=">
    <pickle>
      <global name="Extension Component" module="erp5.portal_type"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_recorded_property_dict</string> </key>
            <value>
              <persistent> <string encoding="base64">AAAAAAAAAAI=</string> </persistent>
            </value>
        </item>
        <item>
            <key> <string>default_reference</string> </key>
            <value> <string>keras_train_model</string> </value>
        </item>
        <item>
            <key> <string>description</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>id</string> </key>
            <value> <string>keras_train_model</string> </value>
        </item>
        <item>
            <key> <string>portal_type</string> </key>
            <value> <string>Extension Component</string> </value>
        </item>
        <item>
            <key> <string>sid</string> </key>
            <value>
              <none/>
            </value>
        </item>
        <item>
            <key> <string>text_content_error_message</string> </key>
            <value>
              <tuple/>
            </value>
        </item>
        <item>
            <key> <string>text_content_warning_message</string> </key>
            <value>
              <tuple>
                <string>W:  8,  0: Bad indentation. Found 4 spaces, expected 2 (bad-indentation)</string>
                <string>W:  9,  0: Bad indentation. Found 6 spaces, expected 4 (bad-indentation)</string>
                <string>W: 11,  0: Bad indentation. Found 4 spaces, expected 2 (bad-indentation)</string>
                <string>W: 12,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 18,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 19,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 20,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 21,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 22,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 23,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 24,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 25,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 26,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 27,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 28,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 30,  0: Bad indentation. Found 4 spaces, expected 2 (bad-indentation)</string>
                <string>W: 31,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 39,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 40,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 41,  0: Bad indentation. Found 16 spaces, expected 8 (bad-indentation)</string>
                <string>W: 43,  0: Bad indentation. Found 16 spaces, expected 8 (bad-indentation)</string>
                <string>W: 44,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 45,  0: Bad indentation. Found 16 spaces, expected 8 (bad-indentation)</string>
                <string>W: 46,  0: Bad indentation. Found 16 spaces, expected 8 (bad-indentation)</string>
                <string>W: 47,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 49,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 50,  0: Bad indentation. Found 8 spaces, expected 4 (bad-indentation)</string>
                <string>W: 51,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 52,  0: Bad indentation. Found 16 spaces, expected 8 (bad-indentation)</string>
                <string>W: 54,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 56,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 58,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 59,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 60,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 61,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 62,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 63,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 64,  0: Bad indentation. Found 16 spaces, expected 8 (bad-indentation)</string>
                <string>W: 65,  0: Bad indentation. Found 16 spaces, expected 8 (bad-indentation)</string>
                <string>W: 66,  0: Bad indentation. Found 20 spaces, expected 10 (bad-indentation)</string>
                <string>W: 67,  0: Bad indentation. Found 16 spaces, expected 8 (bad-indentation)</string>
                <string>W: 68,  0: Bad indentation. Found 20 spaces, expected 10 (bad-indentation)</string>
                <string>W: 69,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 70,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 71,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 72,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 74,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 75,  0: Bad indentation. Found 16 spaces, expected 8 (bad-indentation)</string>
                <string>W: 76,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 77,  0: Bad indentation. Found 16 spaces, expected 8 (bad-indentation)</string>
                <string>W: 78,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 79,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 80,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 81,  0: Bad indentation. Found 16 spaces, expected 8 (bad-indentation)</string>
                <string>W: 82,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 83,  0: Bad indentation. Found 16 spaces, expected 8 (bad-indentation)</string>
                <string>W: 84,  0: Bad indentation. Found 12 spaces, expected 6 (bad-indentation)</string>
                <string>W: 85,  0: Bad indentation. Found 16 spaces, expected 8 (bad-indentation)</string>
                <string>W: 86,  0: Bad indentation. Found 16 spaces, expected 8 (bad-indentation)</string>
                <string>W: 87,  0: Bad indentation. Found 20 spaces, expected 10 (bad-indentation)</string>
                <string>W: 88,  0: Bad indentation. Found 20 spaces, expected 10 (bad-indentation)</string>
                <string>W: 89,  0: Bad indentation. Found 24 spaces, expected 12 (bad-indentation)</string>
                <string>W: 90,  0: Bad indentation. Found 20 spaces, expected 10 (bad-indentation)</string>
               sion(sess)\n
\n
  stream = portal.data_stream_module.wendelin_examples_keras_log\n
  def output(value):\n
    stream.appendData(value)\n
\n
  saved_model_data = load(portal)\n
  if saved_model_data is not None:\n
    model = portal.keras_load_model(saved_model_data)\n
  else:\n
    from keras.models import Sequential\n
    from keras.layers import Dense\n
    model = Sequential()\n
    model.add(Dense(12, input_dim=8, init=\'uniform\', activation=\'relu\'))\n
    model.add(Dense(8, init=\'uniform\', activation=\'relu\'))\n
    model.add(Dense(1, init=\'uniform\', activation=\'sigmoid\'))\n
    model.compile(loss=\'binary_crossentropy\', optimizer=\'adam\', metrics=[\'accuracy\'])\n
\n
  dataset = np.loadtxt(StringIO(str(portal.portal_skins.erp5_wendelin_examples_keras[\'pima.csv\'])), delimiter=\',\')\n
  X = dataset[:, 0:8]\n
  Y = dataset[:, 8]\n
\n
  model.fit(X, Y, nb_epoch=20, batch_size=10, callbacks=[ProgbarLogger(output)])\n
  scores = model.evaluate(X, Y)\n
  output(\'%s: %.2f%%\' % (model.metrics_names[1], scores[1]*100))\n
  model_dict = portal.keras_save_model(model)\n
  K.clear_session()\n
  save(portal, model_dict)\n
  return model_dict\n


]]></string> </value>
                </item>
              </dictionary>
            </value>
        </item>
      </dictionary>
    </pickle>
  </record>
  <record id="3" aka="AAAAAAAAAAM=">
    <pickle>
      <global name="PersistentMapping" module="Persistence.mapping"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>data</string> </key>
            <value>
              <dictionary>
                <item>
                    <key> <string>component_validation_workflow</string> </key>
                    <value>
                      <persistent> <string encoding="base64">AAAAAAAAAAQ=</string> </persistent>
                    </value>
                </item>
              </dictionary>
            </value>
        </item>
      </dictionary>
    </pickle>
  </record>
  <record id="4" aka="AAAAAAAAAAQ=">
    <pickle>
      <global name="WorkflowHistoryList" module="Products.ERP5Type.Workflow"/>
    </pickle>
    <pickle>
      <dictionary>
        <item>
            <key> <string>_log</string> </key>
            <value>
              <list>
                <dictionary>
                  <item>
                      <key> <string>action</string> </key>
                      <value> <string>modify</string> </value>
                  </item>
                  <item>
                      <key> <string>validation_state</string> </key>
                      <value> <string>modified</string> </value>
                  </item>
                </dictionary>
              </list>
            </value>
        </item>
      </dictionary>
    </pickle>
  </record>
</ZopeData>
